<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Employee Reset | Saravana Bhavan</title>

    <!-- Bootstrap -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- Icons -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <style>
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
        }

        .reset-card {
            max-width: 600px;
            margin: auto;
            border-radius: 20px;
            animation: fadeIn 0.8s ease;
        }

        .brand-title {
            letter-spacing: 2px;
        }

        .form-control {
            border-radius: 10px;
        }

        .btn-custom {
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.25);
        }

        .show-pass {
            position: absolute;
            right: 15px;
            top: 38px;
            cursor: pointer;
            color: #0d6efd;
            font-weight: 600;
        }

        footer {
            margin-top: 40px;
            width: 100%;
            height: 50px;
            background-color: #0f172a;
            color: white;
            text-align: center;
            line-height: 50px;
            font-weight: bold;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(25px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>

<!-- ✅ NAVBAR -->
<nav class="d-flex align-items-center justify-content-between px-5 py-3"
     style="background: linear-gradient(90deg, #0891b2, #06b6d4);
            box-shadow: 0 4px 14px rgba(0,0,0,0.35);">

    <h2 class="text-white fw-bold m-0 brand-title">
        EMPLOYEE RESET TOOL
    </h2>

    <a href="/admin_dash"
       class="btn btn-dark btn-sm fw-bold">
        <i class="bi bi-arrow-left"></i> Back
    </a>
</nav>

<div class="container mt-4">

    <!-- ✅ SUCCESS MESSAGE -->
    <div th:if="${res}" class="alert alert-info text-center fw-bold">
        <span th:text="${res}"></span>
    </div>

    <div class="card shadow-lg p-4 reset-card">

        <h4 class="text-center mb-4 text-primary fw-bold">
            <i class="bi bi-search"></i> EMPLOYEE SEARCH / EDIT / DELETE
        </h4>

        <!-- ✅ SEARCH & UPDATE FORM -->
        <form th:action="@{/employee_update}" method="post"
              th:object="${employee_signup_dto}">

            <div class="mb-3">
                <label class="fw-bold">Employee ID</label>
                <div class="input-group">
                    <input type="text" class="form-control"
                           th:field="*{emp_id}">
                    <button class="btn btn-secondary btn-custom"
                            formaction="/employee_search"
                            formmethod="post">
                        <i class="bi bi-search"></i> Search
                    </button>
                </div>
            </div>

            <div class="mb-3">
                <label class="fw-bold">Name</label>
                <input type="text" class="form-control"
                       th:field="*{emp_name}">
            </div>

            <div class="mb-3">
                <label class="fw-bold">Email</label>
                <input type="email" class="form-control"
                       th:field="*{emp_email}">
            </div>

            <div class="mb-3">
                <label class="fw-bold">Phone Number</label>
                <input type="text" class="form-control"
                       th:field="*{emp_cell}">
            </div>
			
			


            <div class="mb-3 position-relative">
                <label class="fw-bold">Password</label>
				<input id="emp_pass" type="text"
				       th:field="*{emp_pass}" class="form-control">

                <span class="show-pass" onclick="togglePass()">Show</span>
            </div>

            <div class="mb-3">
                <label class="fw-bold">Role</label>
                <input type="text" class="form-control"
                       th:field="*{emp_role}" readonly>
            </div>

            <button type="submit"
                    class="btn btn-primary w-100 btn-custom">
                <i class="bi bi-pencil-square"></i> Update Employee
            </button>
        </form>

        <hr class="my-4">

        <!-- ✅ DELETE FORM -->
        <form th:action="@{/employee_delete}" method="post">
            <input type="hidden" name="emp_id"
                   th:value="${employee_signup_dto.emp_id}">
            <button type="submit"
                    class="btn btn-danger w-100 btn-custom"
                    onclick="return confirm('Delete panna sure ah da?')">
                <i class="bi bi-trash-fill"></i> Delete Employee
            </button>
        </form>

    </div>
</div>

<!-- ✅ FOOTER -->
<footer>
    &copy; 2025 Saravana FOOD | Designed by You
</footer>

<script>
    function togglePass() {
        var x = document.getElementById("emp_pass");
        x.type = (x.type === "password") ? "text" : "password";
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
